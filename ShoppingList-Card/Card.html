<html>

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
  <link rel="stylesheet" href="Card.css" />
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Card</title>
  <script href="Card.js"></script>
</head>

<body onclick="addADDCard()" id="body">
  <!-- <script>
    //nu s-a dat short click pe niciun card
    var shortClickOnObject = false;

    //nu s-a dat long click pe niciun card
    var longClickOnObject = false;

    //nu s-a adaugat addCard-ul
    var addCard = false;

    //exista un card in faza de editare
    var editingCard = true;

    //adaugare addCard daca nu exista deja
    function addADDCard() {
      var body = document.getElementById("body");
      const html = '<div class="div-buton card" id="addCard" onclick="addEditableCard()"><button class="btn btn-light"><i class="bi bi-plus-lg"></i></button></div>';

      //nu adauga addCard daca s-a dat click in cardul cu id 'edit'
      var clickOnEditableCard = document.getElementById("edit");
      clickOnEditableCard.addEventListener('click', notADD);

      //nu adauga addCard daca s-a dat click in cardurile cu id '[storeName]'
      var clickOnStoreCard = document.getElementById("storeName");
      clickOnEditableCard.addEventListener('click', notADD);

      //oprire adaugare addCard pentru click-uri in interiorul altor carduri
      function notADD() {

        //considera ca NU s-a dat click in gol
        shortClickOnObject = true;
      }

      //daca nu exista element cu id 'addCard' si nu s-a adaugat addCard-ul si s-a dat click in gol
      if (!document.getElementById("addCard") && !addCard && !shortClickOnObject) {

        //adauga addCard-ul inainte de </body>
        body.insertAdjacentHTML('beforeend', html);

        //considera ca s-a dat click in gol
        shortClickOnObject = false;

        //retine ca s-a adaugat addCard-ul in pagina
        addCard = true;
      }
    }

    //adaugare card editabil:
    function addEditableCard() {
      var addCard = document.getElementById("addCard");
      var html1 = '<div class="test" id="edit"><div class="card card-input"><div class="div-magazin"><input type="text" class="input-magazin" /></div><div class="div-mic"><button class="btn btn-input"><i class="bi bi-plus-lg"></i></button><div class="div-numar-produse">0/0 produse</div></div></div><script id="html1">';
      
    //  <div class="test" id="edit">
    //   <div class="card card-input">
    //     <div class="div-magazin">
    //       <input type="text" class="input-magazin" />
    //       </div>
    //       <div class="div-mic">
    //         <button class="btn btn-input">
    //           <i class="bi bi-plus-lg"></i>
    //           </button>
    //           <div class="div-numar-produse">0/0 produse</div>
    //           </div>
    //           </div>
    //           <script id="html1">
    
    // </script>
    // <div>
    //   <button onclick="removeCard()" class="btn-ics">
    //     <i class="bi-x-circle"></i>
    //     </button>
    //     </div>
    //     </div>


      var element =  insertAdjacentElement('beforebegin', addCard);
      editableCard = document.getElementById("edit"); 
      function removeCard() {
        card.remove();
      }
      card.insertAdjacentHTML('beforebegin', html1);              
      card.insertAdjacentElement('beforeend', element);
      var html2 = '</script><div><button onclick="removeCard()" class="btn-ics"><i class="bi-x-circle"></i></button></div></div>';
      card.insertAdjacentHTML('beforeend', html2);
    }

    //editare card
    function editCard() {
      var card = document.getElementById("edit");
    }
    //salvare card editat (id = 'edit' -> storeName)
    function saveEditedCard(storeName: string) {

      //daca s-a dat click in body si daca exista deja addCard in pagina si nu s-a dat click in interiorul unui alt card => salveaza cardul editabil
      if(addCard && !shortClickOnObject){
  
        //gaseste elementul cu id = 'edit'
        var card = document.getElementById('edit');
        var html = '<div class="card" id="' + storeName + '" on-long-click="editCard()"><button class="btn btn btn-light"><div class="div-magazin">' + storeName + '</div><div class="div-mic"><div class="div-imagine"></div><div class="div-numar-produse">5/48 produse</div></div></button></div>';

        //sterge cardul editabil
        card.remove();

        /*adauga cardul cu id 'storeName' imediat dupa <body> */
        card.insertAdjacentHTML('afterbegin', html);
      }
    }

  </script> -->

    <div class="test" id="edit">
      <div class="card card-input">
        <div class="div-magazin">
          <input type="text" class="input-magazin" />
        </div>
        <div class="div-mic">
          <button class="btn btn-input">
            <i class="bi bi-plus-lg"></i>
          </button>
          <div class="div-numar-produse">0/0 produse</div>
        </div>
      </div>
      <script>
        const card = document.getElementById("edit");

        /*sterge cardul curent */
        function removeCard() {
          card.remove();
        }      
      </script>
      <div>
        <button onclick="removeCard()" class="btn-ics">
          <i class="bi-x-circle"></i>
        </button>
      </div>
    </div>
  </body>
</html>